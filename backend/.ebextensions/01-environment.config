option_settings:

  # Environment type - single instance (cost-effective)
  aws:elasticbeanstalk:environment:
    EnvironmentType: SingleInstance

  # Instance configuration
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.micro

  # Health check
  aws:elasticbeanstalk:application:
    Application Healthcheck URL: /api/health

  # Health reporting
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced

  # Process settings
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /api/health
    Port: 5000
    Protocol: HTTP

  # Stream logs to CloudWatch
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 14

  # Node.js environment variables
  aws:elasticbeanstalk:application:environment:
    PORT: 5000
    NODE_ENV: production

  # Stream logs to CloudWatch
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 14
